(()=>{"use strict";class t{constructor(){this.ships=[]}addShip(t){const s={coordinates:t,sunk:!1,length:t.length};this.ships.push(s)}updateShip(t,s){for(let h=0;h<this.ships.length;h++){const e=this.ships[h];if(-1!==e.coordinates.findIndex((h=>h[0]===t&&h[1]===s)))return e.length-=1,void(0===e.length&&(e.sunk=!0,console.log("Ship destroyed")))}}allShipsDestroyed(){return this.ships.every((t=>t.sunk))}}class s{constructor(s=[2,2,3,3,3,4,4,5]){this.ships_length=s,this.player="",this.grid=10,this.board=[],this.ships=new t,this.shipCount=0,this.createBoxes()}createBoxes(){for(let t=0;t<this.grid;t++){let t=[];for(let s=0;s<this.grid;s++)t.push(s);this.board.push(t)}this.getShipStartpoint()}getShipStartpoint(){for(let t=0;t<this.ships_length.length;t++){const s=this.ships_length[t];let h=!1;for(;!h;){let t=[],e=null,i=null;this.player?(e=[prompt("zeile")],i=[prompt("reihe")]):(e=Math.floor(10*Math.random()),i=Math.floor(Math.random()*(10-s))),t.push(e),t.push(i);const o=this.createFullShip(t,s);o&&this.placeShip(o)?(this.placeShip(o),h=!0,this.ships.addShip(o),this.shipCount+=1):console.log("Platzieren nicht mÃ¶glich")}}this.checkAllShipsPlaced()}createFullShip(t,s){let h=parseInt(t[0]),e=parseInt(t[1]);const i=[];for(let t=0;t<s;t++){if("O"===this.board[h][e])return null;let t=[h,e];i.push(t),e+=1}return i}placeShip(t){for(let s=0;s<t.length;s++){const h=t[s][0],e=t[s][1];if("O"===this.board[h][e])return!1;this.board[h][e]="O"}return!0}checkAllShipsPlaced(){this.shipCount===this.ships_length.length&&console.log("All ships placed on the board.")}checkHit(t,s){"O"===this.board[t][s]?(this.board[t][s]="X",console.log("Hit"),this.ships.updateShip(t,s)):"X"===this.board[t][s]||"M"===this.board[t][s]?console.log("Already Shot There"):(console.log("Miss"),this.board[t][s]="M")}checkGameOver(){if(!0===this.ships.allShipsDestroyed())return console.log("Alle Schiffe versenkt"),!0}}(()=>{const t=new s;console.log(t),t.checkHit(1,1),t.checkHit(2,1),t.checkHit(3,1),t.checkHit(3,2),t.checkHit(3,3),t.checkHit(3,4),t.checkHit(3,5),t.checkHit(3,1)})()})();